<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pergamino Ancestral</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Uncial+Antiqua&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            /* Fondo épico con gradiente, estrellas y brillos */
            min-height: 100vh;
            font-family: 'Cinzel', serif;
            overflow-x: hidden;
            position: relative;
            background:
                radial-gradient(ellipse at 70% 20%, rgba(255,255,200,0.10) 0%, rgba(255,255,200,0) 60%),
                radial-gradient(ellipse at 20% 80%, rgba(255,220,180,0.10) 0%, rgba(255,220,180,0) 60%),
                linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
        }
        body::before {
            /* Capa de estrellas y brillos animada */
            content: "";
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            background:
                repeating-radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.3) 0 5px, transparent 1px 40px),
                repeating-radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.2) 0 10px, transparent 1.5px 60px),
                repeating-radial-gradient(circle at 60% 80%, rgba(255, 255, 255, 0.05) 0 20px, transparent 1px 35px);
            opacity: 0.5;
            transition: background-position 0.2s linear;
            will-change: background-position;
            background-position: 0px 0px, 0px 0px, 0px 0px, 0px 0px;
        }
        .pergamino-container {
            position: relative;
            max-width: 1000px;
            margin: 50px auto 50px auto;
            padding: 20px;
            z-index: 2;
        }
        .pergamino {
            position: relative;
            background: #f4e4bc;
            border-radius: 5px;
            padding: 64px 48px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            min-height: 600px;
            overflow: auto;
            /* Borde coloreado usando outline y un pseudo-elemento */
            outline: 4px solid #bfa76a;
        }
        .pergamino::before {
            content: "";
            position: absolute;
            inset: 0;
            pointer-events: none;
            padding: 0;
            z-index: 2;
            /* Borde degradado tipo pergamino */
            border: 10px solid transparent;
            box-sizing: border-box;
            background: linear-gradient(120deg, #bfa76a 0%, #e8d49a 50%, #bfa76a 100%) border-box;
            -webkit-mask:
                linear-gradient(#fff 0 0) padding-box, 
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            /* El clip-path se hereda del padre automáticamente */
        }
        .pergamino > * {
            position: relative;
            z-index: 1;
        }
        .titulo {
            font-family: 'Uncial Antiqua', serif;
            font-size: 3em;
            color: #8B4513;
            text-align: center;
            margin-bottom: 60px;
            text-shadow: 
                2px 2px 4px rgba(0, 0, 0, 0.3),
                0 0 10px rgba(218, 165, 32, 0.5);
            position: relative;
            filter: url(#wavy-text); /* Aplica el efecto wavy al título */
        }
        .titulo::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%); 
            width: 80%;
            height: 4px;
            background: linear-gradient(90deg, transparent, #DAA520, transparent);
        }
        .contenido {
            color: #4A4A4A;
            font-size: 1.2em;
            line-height: 1.6;
            text-align: justify;
            font-weight: bold;
            hyphens: auto;
            filter: url(#wavy-text);
            overflow-wrap: break-word;
            word-break: break-word;
        }
        .contenido p.importante::first-letter {
            font-family: 'Uncial Antiqua', serif;
            font-size: 3em;
            line-height: 0.01;
            color: #8B4513;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-right: 5px;
        }
        .contenido p { margin-bottom: 1.5em; }
        @media (max-width: 768px) {
            .pergamino-container {
                margin: 20px auto;
                padding: 10px;
            }
            .pergamino {
                padding: 32px 8px;
                border-radius: 10px;
                min-height: 300px;
            }
            .titulo {
                font-size: 2.5em;
            }
            .contenido {
                font-size: 1.1em;
            }
        }
    </style>
    <!-- Filtro SVG para distorsión de texto -->
    <svg width="0" height="0" style="position:absolute">
      <filter id="wavy-text">
        <feTurbulence baseFrequency="0.005 0.005" numOctaves="2" seed="2" type="turbulence" result="turb"/>
        <feDisplacementMap in2="turb" in="SourceGraphic" scale="10" xChannelSelector="R" yChannelSelector="G"/>
      </filter>
    </svg>
</head>
<body>
    <!-- Pergamino principal -->
    <div class="pergamino-container">
        <div class="pergamino" id="wavePergamino">
            
            <!-- Título -->
            <h1 class="titulo">La Leyenda del Turno Eterno</h1>
            
            <!-- Contenido del texto -->
            <div class="contenido">
                <p class="importante">En los oscuros pasillos del Reino de la Oficina, donde el tiempo se dobla y los correos nunca descansan, existe un departamento mítico: <strong>El Turno Eterno</strong>. Allí, los relojes no mandan, los tickets se regeneran y solo los elegidos sobreviven sin perder la cordura (del todo).</p>

                <p>Entre estos guardianes, se forjaron leyendas. Cada uno, con su propio don, mantiene el equilibrio en el universo</p>

                <p class="importante"> Y<b style="font-size: 1.6em;">ago, el Fantasías</b></p>
                <p>
                    Un alma libre atrapada en un cuerpo de empleado. Maestro del multitasking legendario y portador de ideas imposibles. Algunos dicen que ya resolvió los tickets del mes siguiente... otros aseguran que solo estaba viendo videos motivacionales. Nadie lo sabe. Ni él.
                </p>

                <p class="importante"> E<b style="font-size: 1.6em;">llande, el Anciano</b></p>
                <p>
                    El sabio del escuadrón. Ha vivido tantas actualizaciones que recuerda cuando los tickets eran en papel. Conoce atajos que han sido olvidados por el tiempo, y su presencia impone respeto. Habla poco, pero cuando lo hace, el sistema escucha.
                </p>

                <p class="importante"> K<b style="font-size: 1.6em;">ristian, el Nocturno</b></p>
                <p>
                    Dueño de la noche y amo de los silencios del sistema. Mientras todos duermen, él vigila. Con su café eterno y mirada de guerra, se enfrenta a los bugs como un monje guerrero. Nadie domina el turno de la oscuridad como él.
                </p>

                <p class="importante">D<b style="font-size: 1.6em;">ani, el Increíble</b></p>
                <p>
                    Una fuerza imparable con el teclado. Soluciona errores antes de que se reporten, responde correos con la mente y resuelve conflictos de usuarios con un solo mensaje. Si hay una emergencia, Dani ya la resolvió. Si no la ves trabajando, es porque va más rápido que la vista.
                </p>

                <p class="importante">C<b style="font-size: 1.6em;">ristian, el Otorgador de Vida</b></p>
                <p>
                    El generoso del grupo. Siempre dispuesto a ayudar, comparte su conocimiento y recursos con todos. Se dice que puede resolver cualquier problema con solo un par de clics. Su lema: "Un ticket resuelto es un usuario feliz".
                </p>

                <p class="importante">I<b style="font-size: 1.6em;">van, el Chaman</b></p>
                <p>
                    El místico del grupo. Conoce los secretos más oscuros del sistema y puede comunicarse con los tickets perdidos. Su sabiduría es legendaria, y se dice que puede predecir los picos de carga antes de que ocurran.
                </p>

                <p class="importante">D<b style="font-size: 1.6em;">iego, el Inocente</b></p>
                <p>
                    El más puro del grupo. Siempre ve lo mejor en los demás y nunca duda de las intenciones de sus compañeros. Su optimismo es contagioso, y se dice que puede resolver conflictos simplemente sonriendo.
                </p>

                <p class="importante">U<b style="font-size: 1.6em;">nai, el Tanque</b></p>
                <p>
                    El protector del grupo. Siempre está dispuesto a recibir el impacto de los problemas y a defender a sus compañeros. Su resistencia es legendaria, y se dice que puede soportar cualquier carga sin inmutarse.
                </p>

                <p class="importante">E<b style="font-size: 1.6em;">L Legado</b></p>
                <p>
                    Así, día tras noche y ticket tras ticket, estos cinco héroes mantienen viva la leyenda. Porque cuando todos descansan... <b style="font-size: 1.6em;">El Turno Eterno vigila</b>.
                </p>
            </div>
        </div>
    </div>
    <script>
        // Efecto de ola en los bordes del pergamino

        // El problema es que el alto real del contenido puede cambiar después de aplicar el clip-path,
        // y el clip-path puede recortar el texto si el contenido crece o el navegador reflow cambia el layout.
        // Solución: recalcular el clip-path después de un pequeño retraso y también tras resize.

        function randomWavePoints(length, amplitude, count, vertical = false) {
            const step = length / count;
            let points = [];
            for (let i = 0; i <= count; i++) {
                const pos = Math.round(i * step);
                const offset = i === 0 || i === count ? 0 : Math.round((Math.random()) * amplitude * 1.5);
                if (vertical) {
                    points.push([offset, pos]);
                } else {
                    points.push([pos, offset]);
                }
            }
            return points;
        }
        function buildClipPath(w, h) {
            const waveCount = 15, amp = 14;
            // Genera menos deformación en la parte inferior para que el texto final no quede tapado
            const top = randomWavePoints(w, amp, waveCount).map(([x, y]) => `${x}px ${y}px`);
            const right = randomWavePoints(h, amp, waveCount, true).map(([x, y]) => `${w - x}px ${y}px`);
            // Para el borde inferior, reduce la amplitud a la mitad
            const bottom = randomWavePoints(w, amp / 2, waveCount).reverse().map(([x, y]) => `${x}px ${h - y}px`);
            // Para el borde izquierdo, reduce la amplitud a la mitad en la parte baja
            const left = randomWavePoints(h, amp, waveCount, true).reverse().map(([x, y], i, arr) => {
                // Si está en la parte baja (últimos 3 puntos), menos deformación
                if (i > arr.length - 4) return `${x/2}px ${y}px`;
                return `${x}px ${y}px`;
            });
            return `polygon(${[...top, ...right, ...bottom, ...left].join(',')})`;
        }
        function applyRandomWave() {
            const box = document.getElementById('wavePergamino');
            // Ejecutar dos veces: una al renderizar y otra tras un pequeño delay para asegurar el layout final
            function setClip() {
                const w = box.offsetWidth;
                const h = Math.max(box.scrollHeight, box.offsetHeight);
                box.style.minHeight = h + "px";
                box.style.height = "auto";
                box.style.clipPath = buildClipPath(w, h);
                box.style.webkitClipPath = box.style.clipPath;
            }
            setClip();
            setTimeout(setClip, 100); // Recalcula tras posibles cambios de layout
        }
        window.addEventListener('DOMContentLoaded', function() {
            applyRandomWave();
        });
        window.addEventListener('resize', function() {
            applyRandomWave();
        });
        // Si el contenido cambia dinámicamente, puedes llamar a applyRandomWave() de nuevo.

        // Animación del fondo épico al hacer scroll
        window.addEventListener('scroll', function() {
            const y = window.scrollY;
            // Parallax para estrellas
            document.body.style.setProperty('--bg-pos1', `0px ${y * 0.4}px`);
            document.body.style.setProperty('--bg-pos2', `0px ${y * 0.2}px`);
            document.body.style.setProperty('--bg-pos3', `0px ${y * 0.1}px`);
            document.body.style.setProperty('--bg-pos4', `0px ${y * 0.05}px`);
        });

        // CSS para usar las variables en el ::before
        const style = document.createElement('style');
        style.innerHTML = `
        body::before {
            background-position:
                var(--bg-pos1, 0px 0px),
                var(--bg-pos2, 0px 0px),
                var(--bg-pos3, 0px 0px),
                var(--bg-pos4, 0px 0px);
        }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>